<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>Energy Estimator</title>

  <!-- Font (clean, modern, similar to many corporate sites) -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&display=swap" rel="stylesheet">

  <style>
    :root{
      --text:#111;
      --muted:#666;
      --border:#e6e6e6;
      --bg:#ffffff;
      --card:#fafafa;
    }

    body{
      font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      background: var(--bg);
      color: var(--text);
      max-width: 900px;
      margin: 40px auto;
      padding: 0 18px;
    }

    .header{
      display:flex;
      align-items:center;
      justify-content:center;
      margin-bottom: 24px;
    }

    .logo{
      max-width: 220px;
      height: auto;
    }

    h1{
      font-size: 26px;
      margin: 12px 0 6px 0;
      font-weight: 600;
      text-align:center;
    }

    .sub{
      text-align:center;
      margin: 0 0 22px 0;
      color: var(--muted);
      font-size: 14px;
      line-height: 1.4;
    }

    .card{
      background: var(--card);
      border: 1px solid var(--border);
      border-radius: 12px;
      padding: 16px;
      margin-bottom: 16px;
    }

    .grid{
      display:grid;
      grid-template-columns: repeat(2, minmax(0, 1fr));
      gap: 12px;
    }

    @media (max-width: 720px){
      .grid{ grid-template-columns: 1fr; }
    }

    label{
      display:block;
      font-size: 13px;
      color: var(--muted);
      margin-bottom: 6px;
    }

    input{
      width: 100%;
      padding: 10px 12px;
      border: 1px solid var(--border);
      border-radius: 10px;
      font-size: 14px;
      background: #fff;
      outline: none;
    }

    input:focus{
      border-color: #cfcfcf;
    }

    .outputs{
      display:grid;
      grid-template-columns: 1fr;
      gap: 10px;
      margin-top: 10px;
    }

    .out-row{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap: 10px;
      padding: 12px;
      border: 1px solid var(--border);
      border-radius: 12px;
      background:#fff;
    }

    .out-left{
      display:flex;
      flex-direction:column;
      gap: 2px;
    }

    .out-title{
      font-size: 14px;
      font-weight: 600;
    }

    .out-unit{
      font-size: 12px;
      color: var(--muted);
    }

    .out-value{
      font-variant-numeric: tabular-nums;
      font-size: 16px;
      font-weight: 600;
      white-space: nowrap;
    }

    .btn{
      border: 1px solid var(--border);
      background: #fff;
      border-radius: 10px;
      padding: 8px 10px;
      font-size: 13px;
      cursor: pointer;
      color: var(--text);
    }

    .btn:hover{
      background: #f6f6f6;
    }

    .hint{
      font-size: 12px;
      color: var(--muted);
      margin-top: 10px;
      line-height: 1.4;
    }

    .footer-note{
      margin-top: 14px;
      font-size: 12px;
      color: var(--muted);
      line-height: 1.45;
    }
  </style>
</head>

<body>
  <div class="header">
    <!-- Put your logo file in the same folder and name it exactly: htgf-logo.png -->
    <img class="logo" src="htgf-logo.png" alt="HTGF logo">
  </div>

  <h1>Energy Estimator</h1>
  <p class="sub">
    Please enter the average FTE over the year 2025 (not current headcount). Use your best estimate if needed.
Optional enter the share of renewable electricity. The tool output values can be copied into the apiday Carbon Footprint Questionnaire.
  </p>

  <div class="card">
    <div class="grid">
      <div>
        <label for="officeFTE">Office FTE</label>
        <input type="number" id="officeFTE" value="0" min="0">
      </div>

      <div>
        <label for="homeFTE">Home office FTE</label>
        <input type="number" id="homeFTE" value="0" min="0">
      </div>

      <div>
        <label for="officeRenew">Renewable share (office electricity) %</label>
        <input type="number" id="officeRenew" value="0" min="0" max="100">
      </div>

      <div>
        <label for="homeRenew">Renewable share (home office electricity) %</label>
        <input type="number" id="homeRenew" value="0" min="0" max="100">
      </div>
    </div>

    <div class="hint">
      If you don’t know the renewable share, set it to 0% (all conventional) or use your best estimate.
    </div>
  </div>

  <div class="card">
    <div class="outputs">
      <div class="out-row">
        <div class="out-left">
          <div class="out-title">Conventional electricity</div>
          <div class="out-unit">kWh</div>
        </div>
        <div style="display:flex; gap:10px; align-items:center;">
          <div class="out-value" id="conventional">0</div>
          <button class="btn" onclick="copyValue('conventional')">Copy</button>
        </div>
      </div>

      <div class="out-row">
        <div class="out-left">
          <div class="out-title">Renewable electricity</div>
          <div class="out-unit">kWh</div>
        </div>
        <div style="display:flex; gap:10px; align-items:center;">
          <div class="out-value" id="renewable">0</div>
          <button class="btn" onclick="copyValue('renewable')">Copy</button>
        </div>
      </div>

      <div class="out-row">
        <div class="out-left">
          <div class="out-title">Heat</div>
          <div class="out-unit">kWh</div>
        </div>
        <div style="display:flex; gap:10px; align-items:center;">
          <div class="out-value" id="heat">0</div>
          <button class="btn" onclick="copyValue('heat')">Copy</button>
        </div>
      </div>
    </div>

    <div class="footer-note">
      Note: This is an estimation based on default kWh/FTE assumptions (office vs. home office) and is meant as a practical proxy only for the HTGF´s reporting.
    </div>
  </div>

  <script>
    // Assumptions (kWh per FTE per year)
    const OFFICE_ELEC = 2022;
    const OFFICE_HEAT = 3061;
    const HOME_ELEC   = 333;
    const HOME_HEAT   = 700;

    function clampPct(x){
      if (isNaN(x)) return 0;
      return Math.max(0, Math.min(100, x));
    }

    function formatNumber(x){
      // no decimals, easy copy/paste
      return Math.round(x).toLocaleString('en-US');
    }

    function rawNumberFromFormatted(str){
      // to copy plain number without commas/spaces
      return String(str).replace(/[^0-9.-]/g, "");
    }

    function calculate(){
      const office = parseFloat(document.getElementById('officeFTE').value) || 0;
      const home   = parseFloat(document.getElementById('homeFTE').value) || 0;

      const officeRenew = clampPct(parseFloat(document.getElementById('officeRenew').value));
      const homeRenew   = clampPct(parseFloat(document.getElementById('homeRenew').value));

      const officeElec = office * OFFICE_ELEC;
      const homeElec   = home   * HOME_ELEC;

      const renewableElec =
        (officeElec * officeRenew / 100) +
        (homeElec   * homeRenew   / 100);

      const conventionalElec =
        (officeElec * (1 - officeRenew / 100)) +
        (homeElec   * (1 - homeRenew   / 100));

      const heat =
        (office * OFFICE_HEAT) +
        (home   * HOME_HEAT);

      document.getElementById('conventional').innerText = formatNumber(conventionalElec);
      document.getElementById('renewable').innerText    = formatNumber(renewableElec);
      document.getElementById('heat').innerText         = formatNumber(heat);
    }

    async function copyValue(id){
      const text = rawNumberFromFormatted(document.getElementById(id).innerText);
      try{
        await navigator.clipboard.writeText(text);
      }catch(e){
        // fallback
        const t = document.createElement("textarea");
        t.value = text;
        document.body.appendChild(t);
        t.select();
        document.execCommand("copy");
        document.body.removeChild(t);
      }
    }

    ['officeFTE','homeFTE','officeRenew','homeRenew'].forEach((el) => {
      document.getElementById(el).addEventListener('input', calculate);
    });

    calculate();
  </script>
</body>
</html>
